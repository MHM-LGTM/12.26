# 阶段二 404 问题 - 需要重启后端

## 🐛 问题

```
GET /api/plaza/animations/6 HTTP/1.1" 404 Not Found
```

---

## ✅ 原因

后端代码已经添加了新接口 `GET /api/plaza/animations/{animation_id}`，但是：

**后端服务没有重启，所以新路由还没有加载！**

---

## 🔧 解决方法

### 必须重启后端！

虽然使用了 `--reload` 参数，但有时候新增路由需要手动重启。

**操作步骤：**

1. **在后端终端按 `Ctrl+C` 停止服务**

2. **重新启动：**
```bash
cd /www/wwwroot/physmath.cn/my-project49
source myenv/bin/activate
cd backend
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

3. **等待启动完成：**
```
INFO: Application startup complete.
INFO: Uvicorn running on http://0.0.0.0:8000
```

4. **刷新前端页面**

5. **重新测试点击广场卡片**

---

## 🧪 验证路由已加载

重启后，可以在浏览器中直接访问测试：

```
http://localhost:8000/api/plaza/animations/6
```

应该返回：
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "id": 6,
    "title": "...",
    "description": "...",
    "scene_data": {...},
    ...
  }
}
```

如果返回 404，说明：
- 动画 ID 不存在
- 或者动画不是公开的（`is_public = false`）

---

## 📋 确认清单

重启后端后：

- [ ] 访问 `/api/plaza/animations` - 应该返回列表
- [ ] 访问 `/api/plaza/animations/6` - 应该返回详情
- [ ] 点击广场卡片 - 应该成功加载
- [ ] 画布下方显示信息区
- [ ] 卡片高亮（蓝色边框）

---

## 💡 为什么需要重启

虽然 `--reload` 会监听文件变化，但是：

1. **新增路由**需要重新加载路由表
2. **修改路由定义**可能不会触发自动reload
3. **某些复杂修改**需要完全重启

**建议：** 修改路由文件后，都手动重启一次后端，确保生效。

---

**重启后端就能解决！** 🚀

